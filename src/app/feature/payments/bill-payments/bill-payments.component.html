<div
    class="container-fluid justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">

    <div class="card">

        <h3 class="mb-3" style="margin-left: 20px; margin-top: 20px;">Bill Payments</h3>


        <div style="padding: 2rem">
            <p-table [value]="billPaymentData" #dt2 [showCurrentPageReport]="true" [rowsPerPageOptions]="[10, 25, 50]"
             [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            dataKey="id" [rows]="10" [rowHover]="true" [showCurrentPageReport]="true"
            responsiveLayout="scroll"
            [globalFilterFields]="['id','clientID','clientName','remainingPayment','totalQuantity','paymentReceived']">
            <ng-template pTemplate="caption" >
                <div class="flex">
                    <span class="p-input-icon-left ml-auto">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text"
                            (input)="dt2.filterGlobal($event.target.value, 'contains')"
                            placeholder="Search keyword" />
                    </span>
                </div>
            </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th  style="background-color: #231F20; color: #A47B2C; border-top-left-radius: 10px;" pSortableColumn="id">
                            Bill Id
                            <p-sortIcon field="id"></p-sortIcon>
                        </th>
                        <!-- <th style="background-color: #231F20;color: #A47B2C;" pSortableColumn="clientID">
                            Client Id
                            <p-sortIcon field="clientID"></p-sortIcon>
                        </th> -->
                        <th style="background-color: #231F20;color: #A47B2C;" pSortableColumn="clientName">
                            Client Name
                            <p-sortIcon field="clientName"></p-sortIcon>
                        </th>
                        <th style="background-color: #231F20;color: #A47B2C; " pSortableColumn="remainingPayment">
                            Remaining Payment
                            <p-sortIcon field="remainingPayment"></p-sortIcon>
                        </th>
                        <th style="background-color: #231F20;color: #A47B2C;" pSortableColumn="totalQuantity">
                            Total Quantity
                            <p-sortIcon field="totalQuantity"></p-sortIcon>
                        </th>
                        <th style="background-color: #231F20;color: #A47B2C; border-top-right-radius: 10px;" pSortableColumn="paymentReceived">
                            Payment Received
                            <p-sortIcon field="paymentReceived"></p-sortIcon>
                        </th>
                    </tr>
                    <tr>
                        <th style="background-color: #231F20; border-bottom-left-radius: 10px; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="id" placeholder="Bill Id"></p-columnFilter>
                        </th>
                        <!-- <th style="background-color: #231F20; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="clientID" placeholder="client Id"></p-columnFilter>
                        </th> -->
                        <th style="background-color: #231F20; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="ClientName" placeholder="Client Name"></p-columnFilter>
                        </th>
                        <th style="background-color: #231F20; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="remainingPayment" placeholder="Remaining Payment"></p-columnFilter>
                        </th>
                        <th style="background-color: #231F20; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="totalQuantity" placeholder="Total Quantity"></p-columnFilter>
                        </th>
                        <th style="background-color: #231F20; border-bottom-right-radius: 10px; border-top: 3px dotted #ebecf0;">
                            <p-columnFilter type="text" field="paymentReceived" placeholder="payment Received"></p-columnFilter></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr [ngClass]="{'row-accessories': product.remainingPayment <= 0}">
                        <td>{{product.id}}</td>
                        <!-- <td>{{product.clientID}}</td> -->
                        <td><span *ngIf="product.clientID != 0">Regular Client :</span>
                            {{product.clientName}}</td>
                        <td>
                            <div [ngClass]="{'outofstock': product.remainingPayment <= 0, 
                            'instock': product.remainingPayment > 0}">
                                {{product.remainingPayment}}
                            </div>
                        </td>
                        <td>{{product.totalQuantity}}</td>
                        <td>{{product.paymentReceived}}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>